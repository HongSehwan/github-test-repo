import{o as j,a as B,b as v,u as _,p as f,r as T,j as a,a6 as N,q as k,t as x,T as F,v as n,S as y,aa as S,I as t,ab as i,E as w,B as r,F as L,K as O,a5 as z,a0 as D,a8 as I,w as A,ac as R,x as E,y as M}from"./index-DqWJ4ltY.js";const G=j(()=>{const d=B(),c=v(),{productStore:e,confirmStore:o}=_(),u=f(c.search),h=async(s,m,g,P=void 0)=>{try{P&&(e.clearParams(),e.tableBaseStore.searchParams.keyword="",e.tableBaseStore.searchParams.is_bundle="all",e.tableBaseStore.searchParams.is_displayed="all",e.tableBaseStore.searchParams.is_sold="all",d("/ingredient/product-list")),e.tableBaseStore.searchParams.selected||p("");let l=e.tableBaseStore.searchParams;m&&(l.size=m),s&&(l.page=s),g&&(l.sort=g);const C=E(l),b=M(C);d(`${c.pathname}${b}`),await e.goodsFetchTable("goods",b,!0)}catch(l){console.log(l)}};T.useEffect(()=>(e.categoryFetchTable("categories","").then(),e.setGoodsCurrentParams("goods",u).then(),e.setProductCurrentParams("products",{size:5}).then(),e.setSearchProduct("",0,1e4,"desc","&is_bundle=false"),()=>{e.productStoreClear()}),[]);const p=s=>{e.tableBaseStore.searchParams.selected==="keyword"?e.tableBaseStore.setParamsChange("keyword",s,!1):e.tableBaseStore.setParamsChange("goods_id",s,!1)};return a.jsxs(a.Fragment,{children:[a.jsx(N,{children:a.jsx(k,{title:"상품 조회"})}),a.jsxs(x,{children:[a.jsxs(F,{children:[a.jsxs(n,{children:[a.jsx("div",{className:"title",children:"검색어"}),a.jsxs("div",{className:"content",children:[a.jsx(y,{option:S,size:"l",type:"solid",round:!0,placeholder:"선택",onChange:async s=>{await e.tableBaseStore.setParamsChange("selected",s.value),s.value==="code"?e.tableBaseStore.setParamsChange("keyword",""):e.tableBaseStore.setParamsChange("goods_id","")},value:S.find(s=>s.value===e.tableBaseStore.searchParams.selected)||null}),a.jsx(t,{inputType:"text",placeholder:"검색어를 입력해 주세요.",width:"fill",value:e.tableBaseStore.searchParams.selected==="keyword"?e.tableBaseStore.searchParams.keyword||null:e.tableBaseStore.searchParams.goods_id||null,onChange:s=>{p(s.target.value)}})]})]}),a.jsxs(n,{children:[a.jsx("div",{className:"title",children:"카테고리"}),a.jsx("div",{className:"content",children:a.jsx(y,{option:e.categoryOption,size:"l",type:"solid",round:!0,full:!0,placeholder:"카테고리 선택",onChange:async s=>{await e.tableBaseStore.setParamsChange("category_id",s.value)},value:e.categoryOption.find(s=>s.value===e.tableBaseStore.searchParams.category_id)||null})}),a.jsx("div",{className:"title",children:"상품 구분"}),a.jsx("div",{className:"content",children:a.jsxs(i,{children:[a.jsx(t,{labelFor:"prd-type-all",labelName:"전체",inputType:"radio",id:"prd-type-all",name:"prd-type",value:"전체",onChange:()=>{e.tableBaseStore.setParamsChange("is_bundle","all")},checked:e.tableBaseStore.searchParams.is_bundle==="all"}),a.jsx(t,{labelFor:"prd-type-single",labelName:"단품",inputType:"radio",id:"prd-type-single",name:"prd-type",value:"단품",onChange:s=>{e.tableBaseStore.setParamsChange("is_bundle",String(s.target.value!=="단품"))},checked:e.tableBaseStore.searchParams.is_bundle==="false"}),a.jsx(t,{labelFor:"prd-type-bundle",labelName:"번들팩",inputType:"radio",id:"prd-type-bundle",name:"prd-type",value:"번들팩",onChange:s=>{e.tableBaseStore.setParamsChange("is_bundle",String(s.target.value==="번들팩"))},checked:e.tableBaseStore.searchParams.is_bundle==="true"})]})})]}),a.jsxs(n,{children:[a.jsx("div",{className:"title",children:"상품 노출 상태"}),a.jsx("div",{className:"content",children:a.jsxs(i,{children:[a.jsx(t,{labelFor:"exposure-all",labelName:"전체",inputType:"radio",id:"exposure-all",name:"exposure-status",value:"전체",onChange:()=>{e.tableBaseStore.setParamsChange("is_displayed","all")},checked:e.tableBaseStore.searchParams.is_displayed==="all"}),a.jsx(t,{labelFor:"exposed",labelName:"노출함",inputType:"radio",id:"exposed",name:"exposure-status",value:"노출함",onChange:s=>{e.tableBaseStore.setParamsChange("is_displayed",String(s.target.value==="노출함"))},checked:e.tableBaseStore.searchParams.is_displayed==="true"}),a.jsx(t,{labelFor:"not-exposed",labelName:"노출안함",inputType:"radio",id:"not-exposed",name:"exposure-status",value:"노출안함",onChange:s=>{e.tableBaseStore.setParamsChange("is_displayed",String(s.target.value!=="노출안함"))},checked:e.tableBaseStore.searchParams.is_displayed==="false"})]})}),a.jsx("div",{className:"title",children:"상품 판매 상태"}),a.jsx("div",{className:"content",children:a.jsxs(i,{children:[a.jsx(t,{labelFor:"sale-type-all",labelName:"전체",inputType:"radio",id:"sale-type-all",name:"sale-type",value:"전체",onChange:s=>{e.tableBaseStore.setParamsChange("is_sold","all")},checked:e.tableBaseStore.searchParams.is_sold==="all"}),a.jsx(t,{labelFor:"sale-type-sold",labelName:"판매함",inputType:"radio",id:"sale-type-sold",name:"sale-type",value:"판매함",onChange:s=>{e.tableBaseStore.setParamsChange("is_sold",String(s.target.value==="판매함"))},checked:e.tableBaseStore.searchParams.is_sold==="true"}),a.jsx(t,{labelFor:"sale-type-not-sale",labelName:"판매안함",inputType:"radio",id:"sale-type-not-sale",name:"sale-type",value:"판매안함",onChange:s=>{e.tableBaseStore.setParamsChange("is_sold",String(s.target.value!=="판매안함"))},checked:e.tableBaseStore.searchParams.is_sold==="false"})]})})]})]}),a.jsxs(w,{children:[a.jsx(r,{type:"solid",size:"xl",text:"초기화",icon:()=>a.jsx(L,{color:"#899854",size:16}),onClickFunc:async()=>{await h(1,10,"desc",!0)}}),a.jsx(r,{type:"fill",size:"xl",text:"검색",onClickFunc:async()=>{await h(1,void 0,e.tableBaseStore.searchParams.sort,!1)}})]})]}),a.jsxs(x,{children:[a.jsxs(O,{className:"bt",$gap:10,children:[a.jsx(r,{type:"fill",size:"m",text:"+ 상품등록",round:!0,onClickFunc:()=>{z().openModal({...D.PRODUCT_DETAIL_MODAL("","register",!1),closeFunc:s=>{s(),I().goodsDetailModalClear()}})}}),a.jsx(r,{type:"fill",size:"m",text:"선택상품삭제",round:!0,onClickFunc:async()=>{o.openConfirm({confirmText:"확인",cancelText:"취소",text:"삭제하시겠습니까?",confirmFunc:async()=>{await e.goodsListRemove("goodsList"),await e.categoryFetchTable("categories","").then(),await e.setGoodsCurrentParams("goods",u).then(),o.clear()},cancelFunc:()=>{o.clear()}})}})]}),a.jsx(A,{data:e.goodsList,columns:R,offset:e.tableBaseStore.searchParams.page,dataAllCount:e.listPageInfo?.total_elements,store:e,checkType:"goodsList"})]})]})});export{G as default};
